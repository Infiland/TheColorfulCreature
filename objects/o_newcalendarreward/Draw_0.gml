var hat = s_lockedskinicon

global.newcalendarseed = string(global.calendarday1)+string(global.calendarday2)+string(global.calendarday3)+string(global.calendarday4)+string(global.calendarday5)+string(global.calendarday6)+string(global.calendarday7)
random_set_seed(global.newcalendarseed)

var rwd = irandom_range(1,global.calendardifficulty)

if rwd = 1 {
global.newcalendarreward = irandom_range(1,58)
switch(global.newcalendarreward) {
default: hat = s_lockedskinicon break;
case(1): hat = s_graduationhaticon break;
case(2): hat = s_conehaticon break;
case(3): hat = s_partyhaticon break;
case(4): hat = s_paperhaticon break;
case(5): hat = s_tophaticon break;
case(6): hat = s_yellowtophaticon break;
case(7): hat = s_reddiehaticon break;
case(8): hat = s_christmashaticon break;
case(9): hat = s_witchhaticon break;
case(10): hat = s_pumpkinhaticon break;
case(11): hat = s_brownhaticon break;
case(12): hat = s_grayhaticon break;
case(13): hat = s_whitehaticon break;
case(14): hat = s_sunhaticon break;
case(15): hat = s_redblockhaticon break;
case(16): hat = s_yellowblockhaticon break;
case(17): hat = s_greenblockhaticon break;
case(18): hat = s_blueblockhaticon break;
case(19): hat = s_whiteblockhaticon break;
case(20): hat = s_spikehaticon break;
case(21): hat = s_invisiblespikehaticon break;
case(22): hat = s_Vspikehaticon break;
case(23): hat = s_Hspikehaticon break;
case(24): hat = s_hexagonhaticon break;
case(25): hat = s_breadhaticon break;
case(26): hat = s_soldierhaticon break;
case(27): hat = s_samuraihaticon break;
case(28): hat = s_redbeaniehaticon break;
case(29): hat = s_yellowbeaniehaticon break;
case(30): hat = s_greenbeaniehaticon break;
case(31): hat = s_bluebeaniehaticon break;
case(32): hat = s_whitebeaniehaticon break;
case(33): hat = s_piratehaticon break;
case(34): hat = s_pinkbowtiehaticon break;
case(35): hat = s_kinghaticon break;
case(36): hat = s_hairhaticon break;
case(37): hat = s_comradehaticon break;
case(38): hat = s_vikinghaticon break;
case(39): hat = s_cowboyhaticon break;
case(40): hat = s_redsushaticon break;
case(41): hat = s_yellowsushaticon break;
case(42): hat = s_greensushaticon break;
case(43): hat = s_bluesushaticon break;
case(44): hat = s_whitesushaticon break;
case(45): hat = s_flowerhaticon break;
case(46): hat = s_propellerhaticon break;
case(47): hat = s_serbianhaticon break;
case(48): hat = s_rathaticon break;
case(49): hat = s_germanhaticon break;
case(50): hat = s_frenchhaticon break;
case(51): hat = s_italianhaticon break;
case(52): hat = s_spanishhaticon break;
case(53): hat = s_magyarhaticon break;
case(54): hat = s_bosnianhaticon break;
case(55): hat = s_chinesehaticon break;
case(56): hat = s_ukrainianhaticon break;
case(57): hat = s_chinesehaticon break;
case(58): hat = s_chickenhaticon break;
}}
if rwd = 2 {
global.newcalendarreward = irandom_range(1,50)
switch(global.newcalendarreward) {
default: hat = s_lockedskinicon break;
case(1): hat = s_normalskinbutton break;
case(2): hat = s_kaizoskinbutton break;
case(3): hat = s_madskinbutton break;
case(4): hat = s_blindskinbutton break;
case(5): hat = s_sadskinbutton break;
case(6): hat = s_blockskinbutton break;
case(7): hat = s_hdskinbutton break;
case(8): hat = s_rewardedskinbutton break;
case(9): hat = s_angryskinbutton break;
case(10): hat = s_coolskinbutton break;
case(11): hat = s_darkknightskinbutton break;
case(12): hat = s_richskinbutton break;
case(13): hat = s_goldplayerskinbutton break;
case(14): hat = s_frozenskinbutton break;
case(15): hat = s_kindadeadskinbutton break;
case(16): hat = s_coronaskinbutton break;
case(17): hat = s_canadianskinbutton break;
case(18): hat = s_hazardousskinbutton break;
case(19): hat = s_babyskinbutton break;
case(20): hat = s_hexagonskinbutton break;
case(21): hat = s_tuxedoskinbutton break;
case(22): hat = s_normalskinbutton break;
case(23): hat = s_waterskinbutton break;
case(24): hat = s_forsenEskinbutton break;
case(25): hat = s_redballskinbutton break;
case(26): hat = s_bomberskinbutton break;
case(27): hat = s_hitboxskinbutton break;
case(28): hat = s_metallicskinbutton break;
case(29): hat = s_monocleskinbutton break;
case(30): hat = s_japaneseskinbutton break;
case(31): hat = s_googlyskinbutton break;
case(32): hat = s_upsidedownskinbutton break;
case(33): hat = s_spiralskinbutton break;
case(34): hat = s_heartskinbutton break;
case(35): hat = s_clockskinbutton break;
case(36): hat = s_invisibleskinbutton break;
case(37): hat = s_spikeskinbutton break;
case(38): hat = s_arrowskinbutton break;
case(39): hat = s_splitskinbutton break;
case(40): hat = s_pirateskinbutton break;
case(41): hat = s_scifiskinbutton break;
case(42): hat = s_gordonskinbutton break;
case(43): hat = s_fancyskinbutton break;
case(44): hat = s_steamskinbutton break;
case(45): hat = s_breakableskinbutton break;
case(46): hat = s_smileyskinbutton break;
case(47): hat = s_maidskinbutton break;
case(48): hat = s_burningskinbutton break;
case(49): hat = s_skibidiskinbutton break;
case(50): hat = s_kratosskinbutton break;
}}
if rwd = 3 {
global.newcalendarreward = irandom_range(1,3)
switch(global.newcalendarreward) {
default: hat = s_lockedskinicon break;
case(1): hat = s_paintbrushitembutton break;
case(2): hat = s_floweritembutton break;
case(3): hat = s_shielditembutton break;
}}

draw_sprite(hat,0,860,280)

draw_set_halign(fa_right)
draw_set_color(c_white)
draw_set_font(global.deathfont)
if global.calendardifficulty > 1 {
draw_sprite(s_creditshatbutton,0,860,406)
if global.calendardifficulty = 2 {
draw_text(900,483,"100")
if global.newcalendarrewarded = 1 {
if !steam_get_achievement("CALENDAR_MEDIUM") { steam_set_achievement("CALENDAR_MEDIUM") }}
} else if global.calendardifficulty = 3 {
draw_text(900,483,"250")
if global.newcalendarrewarded = 1 {
if !steam_get_achievement("CALENDAR_HARD") { steam_set_achievement("CALENDAR_HARD") }}
}
}

if global.newcalendarrewarded = 1 {
draw_sprite(s_levelhud,0,862,282)

if !steam_get_achievement("CALENDAR_EASY") { steam_set_achievement("CALENDAR_EASY") }


if global.calendardifficulty > 1 {
draw_sprite(s_levelhud,0,862,412)
}}

random_set_seed(global.calendarcurrentmonth + global.calendarcurrentweek * global.calendarcurrentyear)
choosedifficultycalendar()